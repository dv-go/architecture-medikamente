# üß± –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ To-Be (MVP) –∫–æ–º–ø–∞–Ω–∏–∏ ¬´–ú–µ–¥–∏–∫–∞–º–µ–Ω—Ç–µ¬ª ‚Äî Container Diagram (C4 Level 2)

## üéØ –¶–µ–ª—å

–°–æ–∑–¥–∞—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É MVP, –∫–æ—Ç–æ—Ä–∞—è:
- –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –æ–Ω–ª–∞–π–Ω-–∑–∞–ø–∏—Å—å –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ –ø–æ—Ä—Ç–∞–ª,
- –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–µ—Ç —Ä–∞–±–æ—Ç—É —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤,
- —É—á–∏—Ç—ã–≤–∞–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –∑–∞—â–∏—Ç–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (PII/PHI),
- –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è –¥–ª—è –±—É–¥—É—â–∏—Ö –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π –∏ —Ä–æ—Å—Ç–∞ –Ω–∞–≥—Ä—É–∑–∫–∏.

---

![–î–∏–∞–≥—Ä–∞–º–º–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ To-Be (MVP)](C4_to_be.png)


## üì¶ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

### üë§ –í–Ω–µ—à–Ω–∏–µ –∞–∫—Ç–æ—Ä—ã

- **–ü–∞—Ü–∏–µ–Ω—Ç** ‚Äî –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –ø–æ—Ä—Ç–∞–ª, –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç —Å–≤–æ—é –∏—Å—Ç–æ—Ä–∏—é.
- **–°–æ—Ç—Ä—É–¥–Ω–∏–∫ —Ä–µ—Å–µ–ø—à–µ–Ω–∞** ‚Äî –æ—Ñ–æ—Ä–º–ª—è–µ—Ç –∑–∞–ø–∏—Å–∏ –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤.
- **–í—Ä–∞—á** ‚Äî –≤–µ–¥—ë—Ç –º–µ–¥–∫–∞—Ä—Ç—ã, –≤–Ω–æ—Å–∏—Ç –∑–∞–∫–ª—é—á–µ–Ω–∏—è.
- **–ë—É—Ö–≥–∞–ª—Ç–µ—Ä** ‚Äî —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –æ—Ç—á—ë—Ç—ã –∏ –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ–± –æ–ø–ª–∞—Ç–∞—Ö.
- **–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è** ‚Äî –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø–æ API –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∞–Ω–∞–ª–∏–∑–æ–≤.

---

### üß± –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã

| –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä           | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|---------------------|------------|
| **webPortal**       | –í–µ–±-–ø–æ—Ä—Ç–∞–ª –¥–ª—è –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤: —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–∞—è –∑–∞–ø–∏—Å—å, –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç. |
| **staffPortal**     | –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ (—Ä–µ—Å–µ–ø—à–Ω, –≤—Ä–∞—á, –±—É—Ö–≥–∞–ª—Ç–µ—Ä). |
| **authService**     | –°–µ—Ä–≤–∏—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (Keycloak) —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π RBAC/ABAC –∏ OAuth2. |
| **apiGateway**      | Backend API —Å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π: —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å—è–º–∏, –º–µ–¥–¥–∞–Ω–Ω—ã–º–∏, –∞–Ω–∞–ª–∏–∑–∞–º–∏. |
| **db (PostgreSQL)** | –•—Ä–∞–Ω–µ–Ω–∏–µ PII/PHI –¥–∞–Ω–Ω—ã—Ö, –∏—Å—Ç–æ—Ä–∏–∏ –∑–∞–ø–∏—Å–µ–π, –∞—É–¥–∏—Ç–∞. |
| **fileStorage**     | –ó–∞—â–∏—â—ë–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –º–µ–¥–∫–∞—Ä—Ç –∏ –∞–Ω–∞–ª–∏–∑–æ–≤ (S3/MinIO —Å —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ–º). |
| **logs**            | –°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –∞—É–¥–∏—Ç–∞ –¥–µ–π—Å—Ç–≤–∏–π (Victoria Metrics / ELK). |
| **scheduler**       | –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á: —É–¥–∞–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö, –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –∏ –¥—Ä—É–≥–∏–µ —Ñ–æ–Ω–æ–≤—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã. |

---

## üîê –ü–æ—Ç–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –í—Å–µ –ø–æ—Ä—Ç–∞–ª—ã —Ä–∞–±–æ—Ç–∞—é—Ç **—Ç–æ–ª—å–∫–æ –ø–æ HTTPS + JWT**.
- **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**: —á–µ—Ä–µ–∑ `authService` –ø–æ –ø—Ä–æ—Ç–æ–∫–æ–ª—É OAuth 2.0 / OpenID Connect.
- **–î–æ—Å—Ç—É–ø –∫ API** –æ–≥—Ä–∞–Ω–∏—á–µ–Ω —Ä–æ–ª—è–º–∏ (RBAC/ABAC).
- **–§–∞–π–ª—ã** –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ.
- **–ê—É–¥–∏—Ç** –≤–µ–¥—ë—Ç—Å—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ, –≤—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è.
- **–£–¥–∞–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö** –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–æ, —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é soft-delete.

---

## üîÑ –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è (–∫–ª—é—á–µ–≤—ã–µ —Å–≤—è–∑–∏)

- `webPortal` –∏ `staffPortal` –∑–∞–ø—Ä–∞—à–∏–≤–∞—é—Ç `authService` –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.
- `webPortal` ‚Üí `apiGateway`: —Å–æ–∑–¥–∞–Ω–∏–µ –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä –∑–∞–ø–∏—Å–µ–π.
- `staffPortal` ‚Üí `apiGateway`: —Ä–∞–±–æ—Ç–∞ —Å –º–µ–¥–∫–∞—Ä—Ç–∞–º–∏, –æ–ø–ª–∞—Ç–∞–º–∏, –∞–Ω–∞–ª–∏–∑–∞–º–∏.
- `apiGateway` ‚Üí `db`, `fileStorage`, `logs`, `scheduler`.
- `scheduler` ‚Üí `db`: —É–¥–∞–ª–µ–Ω–∏–µ —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö –∑–∞–ø–∏—Å–µ–π.
- `lab` ‚Üí `apiGateway`: –±–µ–∑–æ–ø–∞—Å–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∞–Ω–∞–ª–∏–∑–æ–≤.

---

## ‚úÖ –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –í—Å–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –∑–∞—â–∏—â–µ–Ω—ã –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É **Privacy by Design**.
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø—Ä–∏–Ω—Ü–∏–ø—ã **Data Minimization**, **Data Lineage**, **–¢–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö**, **RBAC/ABAC**.
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞ –∫ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ —Å–ª–µ–¥—É—é—â–µ–º —ç—Ç–∞–ø–µ —Ä–∞–∑–≤–∏—Ç–∏—è.
